(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{348:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var l=a(75),n=a(0),c=a(8),r=a.n(c),o=a(19),i=a(1),s=function(e){var t=e.currentMode,a=e.changeMode;return Object(i.jsxs)("div",{className:"toolbar",children:["profile"===t&&Object(i.jsx)("div",{className:"button",onClick:function(){return a("fullscreen")},children:"Export"}),"fullscreen"===t&&Object(i.jsx)("div",{className:"button",onClick:function(){return a("profile")},children:"Close"})]})},d=a(68),b=function(e){var t=e.total,a=e.values,l=e.icon,n=a.reduce((function(e,a){var l=a.value,n=a.color,c=a.label,r=l/t*100;return e.values.push({value:r,offset:100-e.total+25,color:n,label:c}),{values:e.values,total:e.total+r}}),{values:[],total:0});return Object(i.jsxs)("svg",{width:100,height:100,viewBox:"0 0 40 40",children:[Object(i.jsx)("circle",{cx:"20",cy:"20",r:"15.91549430918954",fill:"transparent",stroke:"#cccccc",strokeWidth:2}),n.values.map((function(e,t){var a=e.value,l=e.offset,n=e.color;e.label;return Object(i.jsx)("circle",{cx:"20",cy:"20",r:"15.91549430918954",fill:"transparent",strokeWidth:2,stroke:n,strokeDasharray:[a,100-a],strokeDashoffset:l},t)})),Object(i.jsx)("text",{x:"20",y:"26",dangerouslySetInnerHTML:{__html:l},className:"stepIcon"})]})},j=function(e){var t,a,l=e.data,n=function(e){switch(e.type){case"email-1to1":return"&#xf658;";case"automated-email":return"&#xf674;";case"sms":return"&#xf7cd;";case"survey":return"&#xf681;";case"call":return"&#xf0f0;";case"event":return"&#xf073;"}}(l);return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"node-container",children:[Object(i.jsx)("div",{className:"node-status node-status-".concat(l.phase.toLowerCase()),children:l.phase}),l.previous.length>0&&Object(i.jsx)(o.a,{type:"target",position:"left",style:{border:"1px solid rgb(152,152,152)",backgroundColor:"white"}}),Object(i.jsxs)("div",{style:{height:"100%",width:"100%",marginTop:7,flex:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(i.jsx)(b,{values:l.data.analytics,total:l.data.potentialTarget,icon:n}),Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(i.jsxs)("div",{style:{fontSize:"10px",paddingLeft:5},title:"Target",children:[Object(i.jsx)("i",{className:"fas fa-bullseye",style:{color:"#2E86C1",paddingRight:3}}),l.data.target]}),Object(i.jsxs)("div",{style:{fontSize:"10px",paddingRight:5},title:null===(t=l.data.percentOK)||void 0===t?void 0:t.label,children:[Object(i.jsx)("i",{className:"fas fa-check-circle",style:{color:"#2E86C1",paddingRight:3}}),null===(a=l.data.percentOK)||void 0===a?void 0:a.value," %"]})]})]}),!0!==l.final&&Object(i.jsx)(o.a,{type:"source",position:"right",style:{border:"1px solid rgb(152,152,152)",backgroundColor:"white"}})]})})},u=a(377),p=a(366),x=a(368),f=a(369),h=a(370),O=a(371),g=a(372),v=a(373),y=function(e){var t=e.data,a=function(e){switch(e.type){case"email-1to1":return"&#xf658;";case"automated-email":return"&#xf674;";case"sms":return"&#xf7cd;";case"survey":return"&#xf681;";case"call":return"&#xf0f0;";case"event":return"&#xf073;"}}(t),l=t.data.potentialTarget-t.data.target,n=function(e){return+parseFloat(e).toFixed(2)};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"node-container",children:[Object(i.jsx)("div",{className:"node-status node-status-".concat(t.phase.toLowerCase()),children:t.phase}),t.previous.length>0&&Object(i.jsx)(o.a,{type:"target",position:"left",style:{border:"1px solid rgb(152,152,152)",backgroundColor:"white"}}),Object(i.jsxs)("div",{style:{width:"100%",marginTop:7,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(i.jsx)(u.a,{flexGrow:1,children:Object(i.jsx)(b,{values:t.data.analytics,total:t.data.potentialTarget,icon:a})}),Object(i.jsxs)("div",{style:{marginLeft:10,marginRight:10,flexGrow:3},children:[Object(i.jsx)(p.a,{style:{fontSize:"12px",color:"#666666"},children:t.name}),!!t.contentName&&Object(i.jsx)(p.a,{style:{fontSize:"12px"},title:t.contentName,children:t.contentName.length>45?t.contentName.substring(0,45)+"...":t.contentName}),Object(i.jsxs)(u.a,{mt:1,mb:1,children:[Object(i.jsx)(p.a,{style:{fontSize:"12px",color:"#666666"},children:"Date"}),"object"===typeof t.date&&Object(i.jsx)(u.a,{children:Object(i.jsxs)(p.a,{style:{fontSize:"12px"},children:["From ",t.date.from," to ",t.date.to]})}),"string"===typeof t.date&&Object(i.jsx)(u.a,{children:Object(i.jsx)(p.a,{style:{fontSize:"12px"},children:t.date})})]}),Object(i.jsxs)(x.a,{container:!0,children:[Object(i.jsxs)(x.a,{item:!0,xs:4,style:{textAlign:"left"},children:[Object(i.jsx)(p.a,{style:{fontSize:"12px",color:"#666666"},children:"Potential"}),Object(i.jsx)(p.a,{style:{fontSize:"13px"},children:t.data.potentialTarget})]}),Object(i.jsxs)(x.a,{item:!0,xs:4,style:{textAlign:"center"},children:[Object(i.jsx)(p.a,{style:{fontSize:"12px",color:"#666666"},children:"Target"}),Object(i.jsx)(p.a,{style:{fontSize:"13px"},children:t.data.target})]}),Object(i.jsxs)(x.a,{item:!0,xs:4,style:{textAlign:"right"},children:[Object(i.jsx)(p.a,{style:{fontSize:"12px",color:"#666666"},children:t.data.percentOK.label}),Object(i.jsxs)(p.a,{style:{fontSize:"13px"},children:[t.data.percentOK.value," %"]})]})]})]})]}),Object(i.jsx)(u.a,{style:{width:"98%",padding:3},children:Object(i.jsx)(f.a,{style:{width:"100%",marginTop:10},children:Object(i.jsx)(h.a,{size:"small",children:Object(i.jsxs)(O.a,{children:[t.data.analytics.map((function(e,a){var l=e.value,c=e.label,r=e.color;return Object(i.jsxs)(g.a,{children:[Object(i.jsx)(v.a,{style:{padding:0},children:Object(i.jsx)("div",{style:{border:"5px solid ".concat(r),borderRadius:5}})}),Object(i.jsx)(v.a,{style:{fontSize:"10px"},children:c}),Object(i.jsx)(v.a,{style:{fontSize:"10px",textAlign:"right"},children:l}),Object(i.jsxs)(v.a,{style:{fontSize:"10px",textAlign:"right"},children:[n(l/t.data.potentialTarget*100)," %"]})]},a)})),Object(i.jsxs)(g.a,{children:[Object(i.jsx)(v.a,{style:{padding:0},children:Object(i.jsx)("div",{style:{border:"5px solid #cccccc",borderRadius:5}})}),Object(i.jsx)(v.a,{style:{fontSize:"10px"},children:"Not Reached"}),Object(i.jsx)(v.a,{style:{fontSize:"10px",textAlign:"right"},children:l}),Object(i.jsxs)(v.a,{style:{fontSize:"10px",textAlign:"right"},children:[n(l/t.data.potentialTarget*100)," %"]})]})]})})})}),!0!==t.final&&Object(i.jsx)(o.a,{type:"source",position:"right",style:{border:"1px solid rgb(152,152,152)",backgroundColor:"white"}})]})})},m=a(374),S=a(376),T=a(375),w=Object(m.a)({popoverPaper:{marginTop:"10px",overflowX:"unset",overflowY:"unset",width:"310px","&::before":{boxShadow:"20px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 1px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",opacity:.9,content:'""',position:"absolute",top:0,left:155,marginTop:"-10px",width:10,height:10,backgroundColor:"white",transform:"translate(-50%, 50%) rotate(-45deg)",clipPath:"polygon(-5px -5px, calc(100% + 5px) -5px, calc(100% + 5px) calc(100% + 5px))"}}}),z=function(e){var t=e.anchor,a=e.onClose,l=e.nodeData,n=w();if(!l)return Object(i.jsx)("div",{});var c=l.data,r=c.data.potentialTarget-c.data.target,o=function(e){return+parseFloat(e).toFixed(2)};return Object(i.jsx)(S.a,{open:null!==t,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},classes:{paper:n.popoverPaper},children:Object(i.jsxs)(T.a,{style:{padding:10,minWidth:230,opacity:.8},children:[Object(i.jsx)(u.a,{children:Object(i.jsx)(p.a,{variant:"h6",title:c.contentName,children:c.name})}),"object"===typeof c.date&&Object(i.jsx)(u.a,{mb:1,children:Object(i.jsxs)(p.a,{variant:"body1",children:["From ",c.date.from," to ",c.date.to]})}),"string"===typeof c.date&&Object(i.jsx)(u.a,{mb:1,children:Object(i.jsx)(p.a,{variant:"body1",children:c.date})}),Object(i.jsx)(u.a,{mb:1,children:Object(i.jsxs)(x.a,{container:!0,children:[Object(i.jsxs)(x.a,{item:!0,xs:4,children:[Object(i.jsx)(p.a,{variant:"body1",style:{fontWeight:"bold",fontSize:"11px"},children:"Potential target"}),Object(i.jsx)(p.a,{variant:"body1",children:c.data.potentialTarget})]}),Object(i.jsxs)(x.a,{item:!0,xs:4,style:{textAlign:"center"},children:[Object(i.jsx)(p.a,{variant:"body1",style:{fontWeight:"bold",fontSize:"11px"},children:"Target"}),Object(i.jsx)(p.a,{variant:"body1",children:c.data.target})]}),Object(i.jsxs)(x.a,{item:!0,xs:4,style:{textAlign:"right"},children:[Object(i.jsx)(p.a,{variant:"body1",style:{fontWeight:"bold",fontSize:"11px"},children:c.data.percentOK.label}),Object(i.jsxs)(p.a,{variant:"body1",children:[c.data.percentOK.value," %"]})]})]})}),Object(i.jsx)(u.a,{mt:2,children:Object(i.jsx)(p.a,{variant:"body1",children:"Details"})}),Object(i.jsx)(f.a,{style:{marginTop:10},children:Object(i.jsx)(h.a,{size:"small",children:Object(i.jsxs)(O.a,{children:[c.data.analytics.map((function(e,t){var a=e.value,l=e.label,n=e.color;return Object(i.jsxs)(g.a,{children:[Object(i.jsx)(v.a,{style:{padding:0},children:Object(i.jsx)("div",{style:{border:"5px solid ".concat(n),borderRadius:5}})}),Object(i.jsx)(v.a,{children:l}),Object(i.jsx)(v.a,{style:{textAlign:"right"},children:a}),Object(i.jsxs)(v.a,{style:{textAlign:"right"},children:[o(a/c.data.potentialTarget*100)," %"]})]},t)})),Object(i.jsxs)(g.a,{children:[Object(i.jsx)(v.a,{style:{padding:0},children:Object(i.jsx)("div",{style:{border:"5px solid #cccccc",borderRadius:5}})}),Object(i.jsx)(v.a,{children:"Not Reached"}),Object(i.jsx)(v.a,{style:{textAlign:"right"},children:r}),Object(i.jsxs)(v.a,{style:{textAlign:"right"},children:[o(r/c.data.potentialTarget*100)," %"]})]})]})})})]})})},C=a(98),N=a.n(C),k=function(e){var t=e.mode,a=e.steps,c=Object(n.useState)(null),r=Object(l.a)(c,2),s=r[0],b=r[1],u={basic:"fullscreen"===t?y:j},p=Object(n.useMemo)((function(){var e=function(e,t,a){var l=new N.a.graphlib.Graph;return l.setGraph({rankdir:"LR"}),l.setDefaultEdgeLabel((function(){return{}})),a.forEach((function(a,n){l.setNode(a.id,Object(d.a)({width:e,height:t},a))})),a.forEach((function(e){var t=e.id;e.previous.forEach((function(e){var a=e.stepId;l.setEdge(a,t)}))})),N.a.layout(l),l.nodes().map((function(e){return l.node(e)}))}("profile"===t?250:400,"profile"===t?140:390,a);return e.map((function(e){return{id:"".concat(t,"-").concat(e.id),type:"basic",data:Object(d.a)({},e),position:{x:e.x,y:e.y},sourcePosition:"right",targetPosition:"left",className:"profile"===t?"node":"fullnode"}})).concat(a.map((function(e){var a=e.id;return e.previous.map((function(e){var l=e.stepId,n=e.count,c=e.label;return{id:"".concat(t,"-").concat(a,"-").concat(l,"}"),source:"".concat(t,"-").concat(l),target:"".concat(t,"-").concat(a),arrowHeadType:"none",style:{strokeWidth:2,stroke:"rgb(152,152,152)"},type:"smoothstep",label:"".concat(c?c+": ":"").concat(n),labelShowBg:!0,labelBgPadding:[10,5],labelBgBorderRadius:4,labelStyle:{fontFamily:"Roboto, sans-serif",fontSize:15},labelBgStyle:{fill:"rgb(217,217,217)",stroke:"rgb(152,152,152)"}}}))})).flat())}),[t,a]);return Object(i.jsxs)("div",{style:{height:"100%",backgroundColor:"#efefef"},children:[Object(i.jsx)(o.c,{onElementClick:function(e,a){"smoothstep"!==a.type&&"profile"===t&&b({evt:e.currentTarget,node:a})},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,paneMoveable:"fullscreen"===t,zoomOnPinch:"fullscreen"===t,zoomOnScroll:"fullscreen"===t,zoomOnDoubleClick:"fullscreen"===t,nodeTypes:u,elements:p}),Object(i.jsx)(z,{anchor:(null===s||void 0===s?void 0:s.evt)||null,onClose:function(){return b(null)},nodeData:(null===s||void 0===s?void 0:s.node)||null,onBottom:!0})]})},A=function(e){var t=e.steps;return Object(i.jsx)("div",{style:{height:"100%",backgroundColor:"#efefef"},children:Object(i.jsx)(k,{mode:"profile",steps:t})})},E=function(e){var t=e.steps;return Object(i.jsx)("div",{style:{height:"100%",backgroundColor:"#efefef"},children:Object(i.jsx)(k,{mode:"fullscreen",steps:t})})},R=(a(348),a(99)),I=function(){var e=Object(n.useState)("profile"),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(i.jsxs)(o.b,{children:[Object(i.jsx)(s,{currentMode:a,changeMode:c}),"profile"===a&&Object(i.jsx)(A,{steps:R}),"fullscreen"===a&&Object(i.jsx)(E,{steps:R})]})},B=document.getElementById("root");r.a.render(Object(i.jsx)(n.StrictMode,{children:Object(i.jsx)(I,{})}),B)},99:function(e){e.exports=JSON.parse('[{"id":1,"type":"email-1to1","name":"Email 1to1","contentName":"OME Forum 08/06/21 > Votre invitation \xe0 l\u2019OME Forum le 8 juin","phase":"Execution","date":{"from":"01/06","to":"15/06"},"previous":[],"data":{"target":2000,"potentialTarget":2000,"percentOK":{"label":"CTOR","value":10},"analytics":[{"label":"Accepted","color":"#003f5c","value":200},{"label":"Refused","color":"#d45087","value":10},{"label":"Unsubscribed","color":"#ffa600","value":5},{"label":"Opened","color":"#665191","value":500},{"label":"Not Opened","color":"#a05195","value":600},{"label":"Bounced","color":"#ff7c43","value":485},{"label":"Target Lost","color":"#f95d6a","value":200}]}},{"id":2,"previous":[{"stepId":1,"count":500,"label":"Opened"}],"type":"automated-email","name":"Automated Email","contentName":"Echanges Franco Belges Connexion 26/05 > Vos informations de connexion\xa0: \xc9changes Franco Belges","phase":"Execution","date":{"from":"10/06","to":"20/06"},"data":{"target":100,"potentialTarget":500,"percentOK":{"label":"CTOR","value":40},"analytics":[{"label":"Accepted","color":"#003f5c","value":40},{"label":"Refused","color":"#d45087","value":2},{"label":"Unsubscribed","color":"#ffa600","value":0},{"label":"Opened","color":"#58508d","value":48},{"label":"Not Opened","color":"#bc5090","value":10},{"label":"Bounced","color":"#ff6361","value":0}]}},{"id":3,"previous":[{"stepId":2,"count":40,"label":"Accepted"}],"type":"sms","name":"SMS","phase":"Execution","date":{"from":"15/06","to":"30/06"},"data":{"target":30,"potentialTarget":40,"percentOK":{"label":"CTOR","value":20},"analytics":[{"label":"Accepted","color":"#003f5c","value":6},{"label":"Opened","color":"#58508d","value":14},{"label":"Not opened","color":"#bc5090","value":10},{"label":"Bounced","color":"#ff6361","value":0}]}},{"id":4,"previous":[{"stepId":1,"count":200,"label":"Accepted"}],"type":"survey","name":"Survey","phase":"Execution","date":{"from":"1/06","to":"20/06"},"data":{"target":150,"potentialTarget":200,"percentOK":{"label":"Submitted","value":73},"analytics":[{"label":"Submitted","color":"#003f5c","value":110},{"label":"Not Submitted","color":"#58508d","value":33},{"label":"CSAT","color":"#bc5090","value":7},{"label":"NPS","color":"#ffa600","value":0}]}},{"id":5,"previous":[{"stepId":4,"count":110,"label":"Submitted"}],"type":"call","name":"Call","phase":"Integration","date":{"from":"10/06","to":"20/06"},"data":{"target":110,"potentialTarget":110,"percentOK":{"label":"Visited","value":54},"analytics":[{"label":"Visited","color":"#003f5c","value":60},{"label":"Not Visited","color":"#ffa600","value":50}]}},{"id":6,"final":true,"previous":[{"stepId":5,"count":60,"label":"Visited"},{"stepId":3,"count":6,"label":"Accepted"}],"type":"event","name":"Event","phase":"Preparation","date":"30/06/2021","data":{"target":30,"potentialTarget":66,"percentOK":{"label":"Attended","value":0},"analytics":[{"label":"Confirmed","color":"#58508d","value":20},{"label":"Cancelled","color":"#ffa600","value":10},{"label":"Not Attended","color":"#ff6361","value":0},{"label":"Attended","color":"#003f5c","value":0}]}}]')}},[[349,1,2]]]);
//# sourceMappingURL=main.6099b567.chunk.js.map